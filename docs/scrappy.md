
`scrappy` is a collection of tools used to generate Faraday spectra for various 
independent lines of sight across an extragalactic source. 

At its tail end, it generates plots to be used with PolarVis:

    https://github.com/Mulan-94/polarvis

It consists of a pipeline script, [`showrunner.sh`][showrunner], which performs multiple steps to
achieve this end goal. This bash script CAN and **SHOULD** be modified to suit one's needs. The general variables that can be tweaked are located in the `env-vars` file.

To avail the files required for ``showrunner.sh``, they should be initialised using the following command:

```
scrappy -i
```


When ready, the pipeline `showrunner.sh` is run as:

```
./showrunner.sh -run
```

Its help is accessible as: `./showrunner -h`. There is additionally an option to run the individual functions in the pipeline by themselves using the syntax `./showrunner.sh functionName`. For example to run the 'makeDirs' function:

```
./showrunner.sh makeDirs
```

The `scrappy` package consists of multiple scripts, which can be viewed using

```
scrappy - h
```

All these scripts are in use within the `showrunner`. They are:

- [`sc-houdini`][sc-houdini]: generate masks
- [`sc-los`][sc-los]: To generate the independent sc-los
- [`sc-losrm`][sc-losrm]: Perform RM-synthesis + RM-CLEAN on the LoS generated by `sc-los`
- [`sc-rmmap`][sc-rmmap]: Generate, among other things, an RM map
- [`sc-bokehplot`][sc-bokehplot]: Generate interactive plots for the LoS. These are for integration with `PolarVis`
- [`sc-ifit`][sc-ifit]: A rudimentary script for fitting Taylor polynomials to Stokes I

Each of the scripts has a help text that is accessible via the `-h` flag. 
Please consult that for more information on the parameters required to run the individual scripts.

This project began as a custom script for Pictor A field but can now support any field provided a 
source mask is given. Parts of the rm-synthesis tools availed in this script evolved from 
those by Lerato Baidoo @sebokolodi and have been modified to suit our needs.


### Help Menu

```
usage: scrappy [-v] [-h] [-i] [-f] [-p]

options:
  -v, --version     Show scrappy version number and exit
  -h, --help        
                    This is a collection of python scripts that perform some RM related
                    tasks, and geared towards (but not limited to) generating files to be used
                    with polarvis: https://github.com/Mulan-94/polarvis
                    The following command line tools are available and help accesible via: sc-los -h
                     sc-losrm -h
                     sc-rmmap -h
                     sc-bokehplot -h
                     sc-ifit -h
                     sc-beam-plot -h
                     sc-houdini -h
                     scrappy -h
                     sc-depol -h
                    
  -i, --initialize  Set up files required to run the showrunner. It will not run without those files
  -f, --force       Force overwrite of the files required for showrunner in case they 
                        already exist in the current directory.
  -p, --pica        Initialise some pica files specifically
```