Overview
--------
``Scrappy`` is a collection of tools used to generate Faraday spectra for various 
independent lines of sight across an extragalactic source. 

At its tail end, it generates plots to be used with PolarVis:

    https://github.com/Mulan-94/polarvis

It consists of a pipeline script `showrunner.sh <./posta/showrunner.sh>`_ which performs multiple steps to
achieve this end goal. This bash script CAN and **SHOULD** be modified to suit one's needs. The general variables that can be tweaked are located in the `env-vars <./posta/env-vars>`_ file.

To avail the files required for ``showrunner.sh``, they should be initialised using the following command:

.. code-block:: bash

    scrappy -i


When ready, the pipeline `showrunner.sh <./posta/showrunner.sh>`_ is run as:

.. code-block:: bash

    ./showrunner.sh -run

Its help is accessible as: ``./showrunner -h``. There is additionally an option to run the individual functions in the pipeline by themselves using the syntax `./showrunner.sh functionName`. For example to run the 'makeDirs' function:

.. code-block:: bash

    ./showrunner.sh makeDirs


``scrappy`` package consists of multiple scripts, which can be viewed using

.. code-block:: bash

    scrappy -h

All these scripts are in use within the `showrunner`. They are:

- ``sc-houdini``: generate masks
- ``sc-los``: To generate the independent sc-los
- ``sc-losrm``: Perform RM-synthesis + RM-CLEAN on the LoS generated by `sc-los`
- ``sc-rmmap``: Generate, among other things, an RM map
- ``sc-bokehplot``: Generate interactive plots for the LoS. These are for integration with `PolarVis`
- ``sc-ifit``: A rudimentary script for fitting Taylor polynomials to Stokes I

Each of the scripts has a help text that is accessible via the `-h` flag. 
Please consult that for more information on the parameters required to run the individual scripts.

------------------

Documentation
-------------

The documentation for this repository is at:

https://mulan-94.github.io/scrappy/

It is still under construction and is bound undergo frequent updates.

------------------

Addendum
--------
This project began as a custom script for Pictor A field but can now support any field provided a 
source mask is given. Parts of the rm-synthesis tools availed in this script evolved from 
those by Lerato Baidoo @sebokolodi and have been modified to suit our needs.